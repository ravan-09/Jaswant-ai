<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>devgagan</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{
            --p:#4F46E5;
            --s:#10B981;
            --d:#EF4444;
            --w:#F59E0B;
            --y:#FCD34D;
            --bg:#F8FAFC;
            --card:#FFF;
            --txt:#1F2937;
            --txtL:#6B7280;
            --brd:#E5E7EB;
            --shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
            --radius:12px;
            --transition:all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Dark mode variables */
            --dark-bg:#1a1a2e;
            --dark-card:#16213e;
            --dark-txt:#e6e6e6;
            --dark-txtL:#b8b8b8;
            --dark-brd:#2a2a3a;
        }
        body{
            font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',system-ui,sans-serif;
            background:var(--bg);
            color:var(--txt);
            line-height:1.5;
            padding-bottom:80px;
            transition:var(--transition);
        }
        
        body.dark-mode {
            background:var(--dark-bg);
            color:var(--dark-txt);
        }
        
        /* Improved math expression and table styling */
        .math-exp {
            display: inline-block;
            vertical-align: middle;
            position: relative;
            margin: 0 2px;
        }
        
        .math-num {
            text-align: center;
            display: block;
            padding: 0;
        }
        
        .math-line {
            display: block;
            border-top: 1px solid;
            padding: 0;
            text-align: center;
        }
        
        /* Table overflow container */
        .table-container {
            width: 100%;
            overflow-x: auto;
            margin: 12px 0;
            -webkit-overflow-scrolling: touch;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 8px 0;
        }
        
        table, th, td {
            border: 1px solid var(--brd);
        }
        
        th, td {
            padding: 8px 12px;
            text-align: left;
        }
        
        .dark-mode table, 
        .dark-mode th, 
        .dark-mode td {
            border-color: var(--dark-brd);
        }
        
        /* Image containment styles */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 8px 0;
            border-radius: 4px;
        }
        
        /* Ensure images don't overflow in any container */
        .q-txt img, .opt-txt img, .sol img, .comp img {
            max-width: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
        }
        
        /* Specific image containers */
        .img-container {
            width: 100%;
            overflow: hidden;
            border-radius: 4px;
            margin: 8px 0;
        }
        
        /* Welcome screen styles */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--card);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            transition: var(--transition);
        }
        
        .dark-mode .welcome-screen {
            background: var(--dark-card);
        }
        
        .welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .welcome-icon {
            font-size: 4rem;
            color: var(--p);
            margin-bottom: 20px;
        }
        
        .welcome-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--p);
        }
        
        .welcome-details {
            background: rgba(79, 70, 229, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            width: 100%;
            max-width: 500px;
            margin-bottom: 24px;
        }
        
        .dark-mode .welcome-details {
            background: rgba(79, 70, 229, 0.2);
        }
        
        .welcome-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1rem;
        }
        
        .welcome-detail:last-child {
            margin-bottom: 0;
        }
        
        .welcome-detail-label {
            font-weight: 600;
            color: var(--txtL);
        }
        
        .dark-mode .welcome-detail-label {
            color: var(--dark-txtL);
        }
        
        .welcome-detail-value {
            font-weight: 500;
        }
        
        .section-info {
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            width: 100%;
            max-width: 500px;
            margin-bottom: 24px;
            text-align: left;
        }
        
        .dark-mode .section-info {
            background: rgba(16, 185, 129, 0.2);
        }
        
        .section-info h3 {
            margin-bottom: 12px;
            color: var(--s);
        }
        
        .section-list {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
        }
        
        .section-list th, .section-list td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid var(--brd);
        }
        
        .dark-mode .section-list th, 
        .dark-mode .section-list td {
            border-bottom-color: var(--dark-brd);
        }
        
        .section-list th {
            font-weight: 600;
            color: var(--txtL);
        }
        
        .dark-mode .section-list th {
            color: var(--dark-txtL);
        }
        
        .welcome-button {
            background: var(--p);
            color: white;
            border: none;
            border-radius: var(--radius);
            padding: 14px 28px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
        }
        
        .welcome-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .join-channel {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--p);
            font-weight: 600;
            text-decoration: none;
            margin-top: 16px;
            padding: 10px 16px;
            border-radius: var(--radius);
            background: rgba(79, 70, 229, 0.1);
            transition: var(--transition);
        }
        
        .dark-mode .join-channel {
            background: rgba(79, 70, 229, 0.2);
        }
        
        .join-channel:hover {
            background: rgba(79, 70, 229, 0.2);
            transform: translateY(-2px);
        }
        
        .dark-mode .join-channel:hover {
            background: rgba(79, 70, 229, 0.3);
        }
        
        /* Section header styles */
        .section-header {
            background: var(--p);
            color: white;
            padding: 12px 16px;
            margin-bottom: 16px;
            border-radius: var(--radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title {
            font-weight: 600;
            font-size: 15px;
        }
        
        .section-timer {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 13px;
        }
        
        .hdr{
            background:var(--card);
            border-bottom:1px solid var(--brd);
            padding:12px 16px;
            display:grid;
            grid-template-columns:1fr auto 1fr;
            align-items:center;
            position:sticky;
            top:0;
            z-index:100;
            box-shadow:var(--shadow);
            transition:var(--transition);
        }
        
        .dark-mode .hdr {
            background:var(--dark-card);
            border-bottom-color:var(--dark-brd);
            color:var(--dark-txt);
        }
        
        .hdr-l{
            display:flex;
            align-items:center;
            gap:12px;
            justify-self:start
        }
        .hdr-c{
            text-align:center;
            font-weight:600;
            font-size:15px
        }
        .hdr-r{
            display:flex;
            justify-self:end;
            align-items:center;
            gap:8px
        }
        .q-info{
            font-size:14px;
            font-weight:600
        }
        .timer{
            background:#FEF3C7;
            color:#92400E;
            padding:6px 12px;
            border-radius:16px;
            font-size:13px;
            font-weight:600
        }
        .btn{
            border:none;
            border-radius:8px;
            font-weight:500;
            cursor:pointer;
            transition:var(--transition);
            font-size:13px;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:6px;
        }
        .btn-sm{
            padding:8px 12px
        }
        .btn-p{
            background:var(--p);
            color:white
        }
        .btn-o{
            background:transparent;
            border:1px solid var(--brd);
            color:var(--txt)
        }
        .dark-mode .btn-o {
            border-color:var(--dark-brd);
            color:var(--dark-txt);
        }
        .btn-w{
            background:var(--y);
            color:#78350F;
            font-weight:600;
        }
        .btn-w.active{
            background:var(--w);
            color:white;
        }
        .btn:active{
            transform:scale(.98)
        }
        .cont{
            padding:16px;
            max-width:100%;
            overflow-x:hidden;
        }
        .dark-mode .cont {
            background:var(--dark-bg);
        }
        .q-card{
            background:var(--card);
            border-radius:var(--radius);
            padding:20px;
            margin-bottom:16px;
            border:1px solid var(--brd);
            overflow:hidden;
            box-shadow:var(--shadow);
            transition:var(--transition);
        }
        .dark-mode .q-card {
            background:var(--dark-card);
            border-color:var(--dark-brd);
            color:var(--dark-txt);
        }
        .lang{
            display:flex;
            background:#F3F4F6;
            border-radius:8px;
            padding:2px;
            margin-bottom:16px
        }
        .dark-mode .lang {
            background:#2a2a3a;
        }
        .lang-btn{
            flex:1;
            padding:8px;
            border:none;
            background:transparent;
            border-radius:6px;
            font-size:13px;
            cursor:pointer;
            transition:var(--transition)
        }
        .lang-btn.active{
            background:white;
            color:var(--p);
            box-shadow:0 1px 3px rgba(0,0,0,.1)
        }
        .dark-mode .lang-btn.active {
            background:var(--dark-card);
            color:var(--p);
        }
        .comp{
            background:#F0F9FF;
            border:1px solid #BAE6FD;
            border-radius:8px;
            padding:16px;
            margin-bottom:20px;
            overflow:hidden
        }
        .dark-mode .comp {
            background:#1e3a8a;
            border-color:#1e40af;
        }
        .comp h4{
            color:#0369A1;
            font-size:14px;
            margin-bottom:8px
        }
        .dark-mode .comp h4 {
            color:#93c5fd;
        }
        .q-txt{
            font-size:16px;
            line-height:1.6;
            margin-bottom:20px;
            color:var(--txt);
            overflow:hidden;
            word-wrap:break-word
        }
        .dark-mode .q-txt {
            color:var(--dark-txt);
        }
        .opts{
            display:flex;
            flex-direction:column;
            gap:12px
        }
        .opt{
            display:flex;
            align-items:center;
            padding:16px;
            background:var(--card);
            border:2px solid var(--brd);
            border-radius:12px;
            cursor:pointer;
            transition:var(--transition);
            gap:12px;
            overflow:hidden
        }
        .dark-mode .opt {
            background:var(--dark-card);
            border-color:var(--dark-brd);
        }
        .opt:hover:not(.submitted){
            border-color:var(--p);
            transform:translateY(-2px);
            box-shadow:var(--shadow);
        }
        .opt.sel{
            border-color:var(--p);
            background:#F0F9FF
        }
        .dark-mode .opt.sel {
            background:#1e3a8a;
        }
        .opt.correct{
            border-color:var(--s);
            background:#F0FDF4 !important
        }
        .dark-mode .opt.correct {
            background:#064e3b !important;
            border-color:#047857;
        }
        .opt.wrong{
            border-color:var(--d);
            background:#FEF2F2 !important
        }
        .dark-mode .opt.wrong {
            background:#7f1d1d !important;
            border-color:#b91c1c;
        }
        .opt.submitted{
            cursor:default
        }
        .opt-radio{
            width:20px;
            height:20px;
            border:2px solid var(--brd);
            border-radius:50%;
            display:flex;
            align-items:center;
            justify-content:center;
            flex-shrink:0
        }
        .dark-mode .opt-radio {
            border-color:var(--dark-brd);
        }
        .opt.sel .opt-radio{
            border-color:var(--p);
            background:var(--p)
        }
        .opt.sel .opt-radio::after{
            content:'✓';
            color:white;
            font-size:12px;
            font-weight:bold
        }
        .opt.correct .opt-radio{
            border-color:var(--s) !important;
            background:var(--s) !important
        }
        .opt.correct .opt-radio::after{
            content:'✓';
            color:white;
            font-size:12px;
            font-weight:bold
        }
        .opt.wrong .opt-radio{
            border-color:var(--d) !important;
            background:var(--d) !important
        }
        .opt.wrong .opt-radio::after{
            content:'✗';
            color:white;
            font-size:12px;
            font-weight:bold
        }
        .opt-txt{
            flex:1;
            font-size:15px;
            overflow:hidden;
            word-wrap:break-word
        }
        .dark-mode .opt-txt {
            color:var(--dark-txt);
        }
        .sol{
            background:#F0FDF4;
            border:1px solid #BBF7D0;
            border-radius:8px;
            padding:16px;
            margin-top:20px;
            display:none;
            overflow:hidden
        }
        .dark-mode .sol {
            background:#064e3b;
            border-color:#047857;
        }
        .sol.show{
            display:block
        }
        .sol h4{
            color:var(--s);
            font-size:14px;
            margin-bottom:8px;
            display:flex;
            align-items:center;
            gap:6px
        }
        .dark-mode .sol h4 {
            color:#34d399;
        }
        .sol-info{
            display:flex;
            gap:12px;
            margin-bottom:12px;
            font-size:13px;
            color:var(--txtL);
        }
        .dark-mode .sol-info {
            color:var(--dark-txtL);
        }
        .sol-info span{
            display:flex;
            align-items:center;
            gap:4px;
        }
        .nav{
            position:fixed;
            bottom:0;
            left:0;
            right:0;
            background:var(--card);
            border-top:1px solid var(--brd);
            padding:12px 16px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            z-index:100;
            box-shadow:0 -2px 10px rgba(0,0,0,0.05);
            transition:var(--transition);
        }
        .dark-mode .nav {
            background:var(--dark-card);
            border-top-color:var(--dark-brd);
        }
        .nav-btn{
            padding:12px 20px;
            border-radius:8px;
            font-weight:600;
            min-width:80px
        }
        .nav-btn:disabled{
            opacity:.5;
            cursor:not-allowed
        }
        .prog{
            text-align:center;
            font-size:13px;
            color:var(--txtL)
        }
        .dark-mode .prog {
            color:var(--dark-txtL);
        }
        .panel{
            position:fixed;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background:var(--card);
            z-index:200;
            transform:translateY(100%);
            transition:transform .3s ease;
            overflow-y:auto;
            display:none;
        }
        .dark-mode .panel {
            background:var(--dark-card);
        }
        .panel.open{
            transform:translateY(0);
            display:block;
        }
        .panel-hdr{
            background:var(--p);
            color:white;
            padding:16px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            position:sticky;
            top:0;
            z-index:1;
        }
        .panel-close{
            background:none;
            border:none;
            color:white;
            font-size:18px;
            cursor:pointer
        }
        .q-grid{
            display:grid;
            grid-template-columns:repeat(5,1fr);
            gap:12px;
            padding:20px
        }
        .q-num{
            aspect-ratio:1;
            display:flex;
            align-items:center;
            justify-content:center;
            background:#F3F4F6;
            border-radius:8px;
            font-weight:600;
            cursor:pointer;
            transition:var(--transition);
            font-size:14px
        }
        .dark-mode .q-num {
            background:#2a2a3a;
            color:var(--dark-txt);
        }
        .q-num.cur{
            background:var(--p);
            color:white
        }
        .q-num.ans{
            background:var(--s);
            color:white
        }
        .q-num.wrong{
            background:var(--d);
            color:white
        }
        .q-num.review{
            background:var(--y);
            color:#78350F;
            font-weight:bold;
        }
        .q-num.unattempted {
            background:#E5E7EB;
            color:#6B7280;
        }
        .dark-mode .q-num.unattempted {
            background:#4B5563;
            color:#D1D5DB;
        }
        .q-num.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }
        .q-num:hover{
            transform:scale(1.05)
        }
        .modal{
            position:fixed;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background:rgba(0,0,0,.5);
            z-index:300;
            display:none;
            align-items:center;
            justify-content:center;
            padding:20px
        }
        .modal.show{
            display:flex
        }
        .result{
            background:var(--card);
            border-radius:16px;
            padding:24px;
            width:100%;
            max-width:400px;
            text-align:center
        }
        .dark-mode .result {
            background:var(--dark-card);
        }
        .score{
            font-size:2rem;
            font-weight:bold;
            color:var(--p);
            margin:16px 0
        }
        .stats{
            display:grid;
            grid-template-columns:repeat(2,1fr);
            gap:12px;
            margin:20px 0
        }
        .stat{
            text-align:center;
            padding:12px;
            border-radius:8px;
            border:1px solid var(--brd)
        }
        .dark-mode .stat {
            border-color:var(--dark-brd);
        }
        .stat-val{
            font-size:1.5rem;
            font-weight:bold;
            margin-bottom:4px
        }
        .stat-lbl{
            font-size:12px;
            color:var(--txtL)
        }
        .dark-mode .stat-lbl {
            color:var(--dark-txtL);
        }
        .stat.c{
            border-color:var(--s);
            background:#F0FDF4
        }
        .dark-mode .stat.c {
            background:#064e3b;
            border-color:#047857;
        }
        .stat.w{
            border-color:var(--d);
            background:#FEF2F2
        }
        .dark-mode .stat.w {
            background:#7f1d1d;
            border-color:#b91c1c;
        }
        .stat.c .stat-val{
            color:var(--s)
        }
        .dark-mode .stat.c .stat-val {
            color:#34d399;
        }
        .stat.w .stat-val{
            color:var(--d)
        }
        .dark-mode .stat.w .stat-val {
            color:#f87171;
        }
        .modal-acts{
            display:flex;
            gap:12px;
            margin-top:20px
        }
        .modal-btn{
            flex:1;
            padding:12px;
            border-radius:8px;
            font-weight:600
        }
        .print-btn{
            position:fixed;
            bottom:100px;
            right:20px;
            width:50px;
            height:50px;
            border-radius:50%;
            background:var(--p);
            color:white;
            display:flex;
            align-items:center;
            justify-content:center;
            box-shadow:0 4px 10px rgba(0,0,0,0.2);
            z-index:50;
            cursor:pointer;
            transition:var(--transition);
            border:none;
        }
        .print-btn:hover{
            transform:scale(1.1);
        }
        .dark-mode .print-btn {
            background:var(--p);
        }
        .desktop-sidebar{
            display:none;
            position:fixed;
            right:0;
            top:0;
            bottom:0;
            width:300px;
            background:var(--card);
            border-left:1px solid var(--brd);
            padding:20px;
            overflow-y:auto;
            z-index:90;
            transition:var(--transition);
        }
        .dark-mode .desktop-sidebar {
            background:var(--dark-card);
            border-left-color:var(--dark-brd);
        }
        .desktop-sidebar h3{
            margin-bottom:16px;
            padding-bottom:12px;
            border-bottom:1px solid var(--brd);
            color:var(--txt);
        }
        .dark-mode .desktop-sidebar h3 {
            border-bottom-color:var(--dark-brd);
            color:var(--dark-txt);
        }
        .theme-toggle{
            background:none;
            border:none;
            color:var(--txt);
            font-size:18px;
            cursor:pointer;
            margin-left:8px;
        }
        .dark-mode .theme-toggle {
            color:var(--dark-txt);
        }
        @media (min-width: 1024px) {
            .cont{
                padding-right:320px;
            }
            .desktop-sidebar{
                display:block;
            }
            .panel{
                display:none !important;
            }
        }
        @media (max-width:375px){
            .hdr{padding:10px 12px}
            .cont{padding:12px}
            .q-card{padding:16px}
            .q-grid{grid-template-columns:repeat(4,1fr)}
        }
        
    </style>
</head>
<body>

<!-- Welcome Screen -->
<div class="welcome-screen" id="welcomeScreen">
    <h1 class="welcome-title">Exam ID : TEST</h1>
    
    <div class="welcome-details">
        <div class="welcome-detail">
            <span class="welcome-detail-label">Test ID</span>
            <span class="welcome-detail-value">0 </span>
        </div>
        <div class="welcome-detail">
            <span class="welcome-detail-label">Total Questions:</span>
            <span class="welcome-detail-value">20</span>
        </div>
        <div class="welcome-detail">
            <span class="welcome-detail-label">Total Marks:</span>
            <span class="welcome-detail-value">40</span>
        </div>
        <div class="welcome-detail">
            <span class="welcome-detail-label">Duration:</span>
            <span class="welcome-detail-value">15 minutes</span>
        </div>
        <div class="welcome-detail">
            <span class="welcome-detail-label">Marking:</span>
            <span class="welcome-detail-value">+2 / -0.50</span>
        </div>
    </div>
    
    <div class="welcome-instructions">
        <h3>Instructions</h3>
        <ul>
            <li>Read each question carefully before answering</li>
            <li>You can mark questions for review and come back later</li>
            <li>The timer will automatically submit the test when time is up</li>
            <li>Negative marking applies for wrong answers</li>
        </ul>
    </div>
    
    <div class="welcome-buttons">
        <button class="welcome-button" id="startTestBtn">
            <i class="fas fa-play"></i> Start Test
        </button>
        
        <a href="https://t.me/mocks_wallah" target="_blank" class="join-channel" rel="noopener">VISHAL😁RAVAN</a> <a href="https://youtube.com/@Vlogsbyvishalravan" target="_blank" rel="noopener" style="font-size:12px;opacity:.85;margin-left:6px;">(YouTube backup)</a>
    </div>
 </div>

    <!-- Main Test Interface (hidden initially) -->
    <div style="display:none" id="mainTestInterface">
        <div class="hdr">
            <div class="hdr-l">
                <div class="q-info" id="qInfo">Q1/20</div>
                <div class="timer" id="timer">15:00</div>
            </div>
            <div class="hdr-c">Mocks Wallah</div>
            <div class="hdr-r">
                <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
                <button class="btn btn-o btn-sm" id="menuBtn"><i class="fas fa-th"></i></button>
                <button class="btn btn-p btn-sm" id="subBtn">Submit</button>
            </div>
        </div>

        <div class="cont">
            
            <div class="q-card">
                <div class="lang">
                    <button class="lang-btn active" id="engBtn">English</button>
                    <button class="lang-btn" id="hinBtn">हिंदी</button>
                </div>

                <div id="compSec" class="comp" style="display:none">
                    <h4><i class="fas fa-book"></i> Comprehension</h4>
                    <div id="compCont"></div>
                </div>

                <div class="q-txt" id="qTxt"></div>
                <div class="opts" id="opts"></div>

                <div class="sol" id="sol">
                    <div class="sol-info" id="solInfo"></div>
                    <h4><i class="fas fa-lightbulb"></i> Solution</h4>
                    <div id="solCont"></div>
                </div>
            </div>
        </div>

        <div class="nav">
            <button class="btn btn-o nav-btn" id="prevBtn"><i class="fas fa-chevron-left"></i> Prev</button>
            <button class="btn btn-w nav-btn" id="reviewBtn"><i class="fas fa-flag"></i> Review</button>
            <div class="prog">
                <div id="progTxt">1 of 20</div>
                <div style="font-size:11px">Answered: <span id="ansCnt">0</span> | <a href="https://t.me/mocks_wallah" target="_blank" rel="noopener">VISHAL😁RAVAN</a> <a href="https://youtube.com/@Vlogsbyvishalravan" target="_blank" rel="noopener" style="font-size:12px;opacity:.85;margin-left:6px;">(YouTube backup)</a></div>
            </div>
            <button class="btn btn-p nav-btn" id="nextBtn">Next <i class="fas fa-chevron-right"></i></button>
        </div>

        <div class="desktop-sidebar" id="desktopSidebar">
            <h3>Questions Navigator</h3>
            <div class="q-grid" id="desktopQGrid"></div>
            <div style="margin-top:20px;font-size:12px;color:var(--txtL)">
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num ans" style="width:24px;height:24px">✓</div><span>Answered</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num review" style="width:24px;height:24px">!</div><span>Marked for Review</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num wrong" style="width:24px;height:24px">✗</div><span>Incorrect</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px">
                    <div class="q-num unattempted" style="width:24px;height:24px">?</div><span>Unattempted</span>
                </div>
            </div>
        </div>

        <div class="panel" id="panel">
            <div class="panel-hdr">
                <h3>All Questions</h3>
                <button class="panel-close" id="panelClose"><i class="fas fa-times"></i></button>
            </div>
            <div class="q-grid" id="qGrid"></div>
            <div style="padding:20px;font-size:12px;color:var(--txtL)">
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num ans" style="width:24px;height:24px">✓</div><span>Answered</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num review" style="width:24px;height:24px">!</div><span>Marked for Review</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                    <div class="q-num wrong" style="width:24px;height:24px">✗</div><span>Incorrect</span>
                </div>
                <div style="display:flex;align-items:center;gap:8px">
                    <div class="q-num unattempted" style="width:24px;height:24px">?</div><span>Unattempted</span>
                </div>
            </div>
        </div>

        <button class="print-btn" id="printBtn" style="display:none">
            <i class="fas fa-print"></i>
        </button>

        <div class="modal" id="modalOver">
            <div class="result">
                <h2>Test Complete!</h2>
                <div class="score" id="scoreDisp">0/40</div>
                <div class="stats">
                    <div class="stat c"><div class="stat-val" id="corrStat">0</div><div class="stat-lbl">Correct</div></div>
                    <div class="stat w"><div class="stat-val" id="incStat">0</div><div class="stat-lbl">Incorrect</div></div>
                    <div class="stat"><div class="stat-val" id="unaStat">0</div><div class="stat-lbl">Unattempted</div></div>
                    <div class="stat"><div class="stat-val" id="timeStat">0</div><div class="stat-lbl">Minutes</div></div>
                </div>
                <div class="modal-acts">
                    <button class="btn btn-o modal-btn" id="closeModal">Close</button>
                    <button class="btn btn-p modal-btn" id="revBtn">Review</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        class TestApp {
            constructor() {
            this.qs = [
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which feature in PowerPoint allows you to apply predefined formatting to text and objects?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Themes</p>",
      "<style> img {max-width:100% !important} </style><p>Templates</p>",
      "<style> img {max-width:100% !important} </style><p>Styles</p>",
      "<style> img {max-width:100% !important} </style><p>Animations</p>"
    ],
    "correct_option_id": 0,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct option is A.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Themes</strong> in PowerPoint are pre-designed sets of colors, fonts, and effects that can be applied to your presentation. They offer a consistent and visually appealing look to your slides. Themes include various slide layouts, background styles, font choices, and color combinations that you can use to quickly format your presentation with a unified design.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Templates</strong> are pre-designed slide layouts that you can use as a starting point for creating your presentation. Templates often include placeholders for text, images, charts, and other elements. They provide a structure for your content and help you save time by not starting from scratch.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Styles </strong>in PowerPoint refer to the formatting options that you can apply to text and objects within your slides. This includes font styles, sizes, colors, bold, italics, underlining, and more. Applying styles allows you to modify the appearance of your content to match your desired design.</span></span></p>\r\n\r\n<p><strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Animations</span></span></strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> in PowerPoint enable you to add movement and visual effects to text and objects on your slides. You can apply entrance, exit, emphasis, and motion path animations to elements, making your presentation more engaging and dynamic.</span></span></p>",
    "question_index": 0
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is the purpose of conditional formatting in Excel?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Changing the font style of all cells</p>",
      "<style> img {max-width:100% !important} </style><p>Highlighting cells that meet certain criteria</p>",
      "<style> img {max-width:100% !important} </style><p>Applying a filter to a worksheet</p>",
      "<style> img {max-width:100% !important} </style><p>Inserting hyperlinks</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option B.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Changing the font style of all cells:</strong></span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Conditional formatting in Excel is not primarily used to change the font style of all cells. Instead, it allows you to apply formatting rules to cells based on specific conditions.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Highlighting cells that meet certain criteria:</strong></span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">This is the correct purpose of conditional formatting. You can use conditional formatting to automatically highlight cells that meet specific criteria you define. For example, you can make cells with values above a certain threshold appear in a different color to draw attention to them.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Applying a filter to a worksheet:</strong></span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Conditional formatting is different from applying filters. Filters allow you to show or hide rows based on criteria, but they don&#39;t directly change the appearance of cells. Conditional formatting, on the other hand, focuses on visually enhancing cells based on conditions.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Inserting hyperlinks:</strong></span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Conditional formatting doesn&#39;t involve inserting hyperlinks. It deals with changing the appearance of cells based on conditions, as mentioned earlier. While inserting hyperlinks refers to adding link to the text in a cell.</span></span></p>",
    "question_index": 1
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What differentiates a computer virus from a computer worm?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Viruses only affect hardware, while worms affect software.</p>",
      "<style> img {max-width:100% !important} </style><p>Viruses require user interaction to spread, while worms can spread automatically.</p>",
      "<style> img {max-width:100% !important} </style><p>Worms are always benign, while viruses are always malicious.</p>",
      "<style> img {max-width:100% !important} </style><p>Viruses can only spread through email, while worms spread through USB drives.</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct option is B.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>virus</strong> is a program that replicates its own code by attaching itself to other executable files in such a way that the virus code is executed when the infected executable file is executed. Almost all viruses are attached to an executable file, which means the virus may exist on a system but will not be active or able to spread until a user runs or opens the malicious host file or program. Types of viruses are File Virus, Macro Virus, Multipartite Virus, Boot sector Virus/Master Boot Record Virus, Stealth Virus, Cavity (Space Filler) Virus, Tunnelling Virus, Polymorphic Virus, Cluster Virus. </span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">A computer <strong>worm</strong> is a program that replicates itself and makes use of a PC&#39;s network connectivity to transfer a copy of itself to other computers within that network. Worms are distinct from viruses in that they do not require a host program to run.</span></span></p>",
    "question_index": 2
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which of the following is an example of an input device?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Printer</p>",
      "<style> img {max-width:100% !important} </style><p>Monitor</p>",
      "<style> img {max-width:100% !important} </style><p>Keyboard</p>",
      "<style> img {max-width:100% !important} </style><p>Speaker</p>"
    ],
    "correct_option_id": 2,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option C.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>printer</strong> is an output device. It takes digital information from a computer and produces a physical copy on paper or other media.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>monitor</strong> is an output device as well. It displays visual information generated by the computer, such as text, images, and videos.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>keyboard</strong> is an input device. It allows the user to input text, numbers, and commands into the computer by pressing keys.</span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">A <strong>speaker</strong> is an output device. It produces sound based on audio signals from the computer or other sources.</span></span></p>",
    "question_index": 3
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is the purpose of virtual memory in a computer system?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>To provide more physical RAM</p>",
      "<style> img {max-width:100% !important} </style><p>To create a virtual reality environment</p>",
      "<style> img {max-width:100% !important} </style><p>To emulate hardware devices</p>",
      "<style> img {max-width:100% !important} </style><p>To extend available memory by using disk space</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option D.</span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">When physical RAM becomes limited, the operating system uses a portion of the hard disk as &quot;virtual&quot; RAM. This allows the system to temporarily store data that would otherwise be stored in physical RAM, thus extending the effective amount of memory available for running programs.</span></span></p>",
    "question_index": 4
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is the primary purpose of an operating system in a computer?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Display graphics</p>",
      "<style> img {max-width:100% !important} </style><p>Manage hardware resources and software applications</p>",
      "<style> img {max-width:100% !important} </style><p>Create spreadsheets</p>",
      "<style> img {max-width:100% !important} </style><p>Encode data</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct answer is option B.</p>\r\n\r\n<p>The operating system (OS) manages all of the software and hardware on the computer. It performs basic tasks such as file, memory and process management, handling input and output, and controlling peripheral devices such as disk drives and printers.&nbsp;</p>",
    "question_index": 5
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>The main component of the second-generation computers is:</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Vacuum tube</p>",
      "<style> img {max-width:100% !important} </style><p>Integrated Circuit</p>",
      "<style> img {max-width:100% !important} </style><p>Very Large Integrated Circuit</p>",
      "<style> img {max-width:100% !important} </style><p>Transistors</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct answer is option D.</p>\r\n\r\n<p>The table below gives the information about the main components of the various generation computers with examples:&nbsp;&nbsp;</p>",
    "question_index": 6
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>CPU nowadays can be implemented on a single microchip which is called:</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>GPU</p>",
      "<style> img {max-width:100% !important} </style><p>RAM</p>",
      "<style> img {max-width:100% !important} </style><p>Motherboard</p>",
      "<style> img {max-width:100% !important} </style><p>Microprocessor</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option D.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>microprocessor</strong> is a central processing unit (CPU) that is designed to be a complete processing unit on a single integrated circuit (microchip). It functions as the &quot;brain&quot; of a computer, carrying out instructions from programs and performing arithmetic and logic operations.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">In modern computing, microprocessors have advanced to the point where they can contain millions or even billions of transistors on a single chip. This allows them to handle complex tasks, execute instructions quickly, and efficiently manage various hardware and software processes.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>GPU (Graphics Processing Unit)</strong> is responsible for rendering graphics and handling tasks related to image processing. While GPUs are also implemented on microchips, they serve a different purpose from CPUs.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>RAM (Random Access Memory)</strong> is a type of volatile memory that provides temporary storage for data that the CPU is currently using. It&#39;s not the same as a microprocessor.</span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>motherboard </strong>is the main circuit board of a computer, which connects various hardware components. It does not refer to a microchip that contains a CPU.</span></span></p>",
    "question_index": 7
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is the keyboard shortcut for spell check in MS-Word?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Ctrl + S</p>",
      "<style> img {max-width:100% !important} </style><p>F12</p>",
      "<style> img {max-width:100% !important} </style><p>F7</p>",
      "<style> img {max-width:100% !important} </style><p>F2</p>"
    ],
    "correct_option_id": 2,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option C.</span></span></p>\r\n\r\n<ul>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + S: Save</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">F12: Save As</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">F7: Spell Check</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">F2: Edit/rename</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + Y: Redo</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + Z: Undo</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + W: Close file</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + V: Paste</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + X: Cut</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + K: Hyperlink</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + U: Underline </span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + B: Bold</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + C: Copy</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + I: Italics</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + J: Justified alignment</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Ctrl + N: New blank document</span></span></li>\r\n\t<li><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ctrl + O: Open existing document</span></span></li>\r\n</ul>",
    "question_index": 8
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Microsoft SQL Server is a type of:</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Word Processor</p>",
      "<style> img {max-width:100% !important} </style><p>Customised Software</p>",
      "<style> img {max-width:100% !important} </style><p>Multimedia Software</p>",
      "<style> img {max-width:100% !important} </style><p>Database Software</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option D.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Database software is used to create, edit, and maintain database files and records, enabling easier file and record creation, data entry, data editing, updating, and reporting. The software also handles data storage, backup and reporting, multi-access control, and security.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Few examples of Database Software are:</span></span></p>\r\n\r\n<ul>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Oracle</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">MySQL</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Microsoft SQL Server</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">PostgreSQL</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">MongoDB</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Redis</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">IBM DB2</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Elasticsearch</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">SQLite</span></span></li>\r\n\t<li><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Microsoft Access</span></span></li>\r\n</ul>",
    "question_index": 9
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which of the following is/are the type of operating system?<br />\r\nI. Batch operating system<br />\r\nII. Real time operating system<br />\r\nIII. Time sharing system<br />\r\nIV. Multiprogramming operating system<br />\r\nV. Network operating system<br />\r\nVI. Virtual operating system</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>I, II, III, IV and V only</p>",
      "<style> img {max-width:100% !important} </style><p>I, II, IV, V and VI only</p>",
      "<style> img {max-width:100% !important} </style><p>II, III, IV, V and VI only</p>",
      "<style> img {max-width:100% !important} </style><p>II, III, IV and V only</p>"
    ],
    "correct_option_id": 0,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option A.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">An Operating System performs all the basic tasks like managing files, processes, and memory. Thus operating system acts as the manager of all the resources, i.e. resource manager. Thus, the operating system becomes an interface between the user and the machine. It is one of the most required software that is present in the device.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Types of operating system are:</span></span></p>\r\n\r\n<ul>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Batch Operating System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Multi-Programming System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Multi-Processing System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Multi-Tasking Operating System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Time-Sharing Operating System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Distributed Operating System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Network Operating System</span></span></li>\r\n\t<li><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Real-Time Operating System</span></span></li>\r\n</ul>\r\n\r\n<p><strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">There is no such Virtual operating system.</span></span></strong></p>",
    "question_index": 10
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is the full form of the abbreviation &ldquo;CDMA&rdquo;?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Central Data Management Association</p>",
      "<style> img {max-width:100% !important} </style><p>Compact Digital Modulation Algorithm</p>",
      "<style> img {max-width:100% !important} </style><p>Code Division Multiple Access</p>",
      "<style> img {max-width:100% !important} </style><p>Cellular Digital Mobile Adapter</p>"
    ],
    "correct_option_id": 2,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option C.</span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">CDMA stands for &quot;<strong>Code Division Multiple Access</strong>.&quot; It is a digital cellular technology used in telecommunications, specifically in mobile communication systems. CDMA allows multiple users to share the same frequency band simultaneously by assigning unique codes to each user&#39;s signal. This enables more efficient use of available bandwidth and enhances the capacity and quality of wireless communication.</span></span></p>",
    "question_index": 11
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Header and Footer Displays information such as _____________ of the document.</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Spelling and grammar</p>",
      "<style> img {max-width:100% !important} </style><p>Page numbers and document length</p>",
      "<style> img {max-width:100% !important} </style><p>File format and encryption details</p>",
      "<style> img {max-width:100% !important} </style><p>Font style and color scheme</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option B.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">Headers and footers in a document typically display information such as page numbers and document length. They are areas at the top (header) and bottom (footer) of each page in a document where you can include additional information that you want to appear consistently on every page. Common information displayed in headers and footers includes page numbers, document title, author&#39;s name, date, and sometimes section titles.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The header format looks like:</span></span></p>",
    "question_index": 12
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Function &ldquo;TODAY&rdquo; in MS-Excel returns:</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Today&rsquo;s date</p>",
      "<style> img {max-width:100% !important} </style><p>Current time</p>",
      "<style> img {max-width:100% !important} </style><p>Today&rsquo;s entries made</p>",
      "<style> img {max-width:100% !important} </style><p>Today&rsquo;s changes in the document</p>"
    ],
    "correct_option_id": 0,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct answer is option A.</p>\r\n\r\n<p>Displaying the current date: To display the current date in a cell, simply enter the formula =TODAY(). The cell will show the current date, and it will update automatically each time you open the workbook or recalculate the worksheet.&nbsp;</p>",
    "question_index": 13
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>The first laptop was developed by which company?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Samsung</p>",
      "<style> img {max-width:100% !important} </style><p>Lenovo</p>",
      "<style> img {max-width:100% !important} </style><p>HCL</p>",
      "<style> img {max-width:100% !important} </style><p>EPSON</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct answer is option D.</p>\r\n\r\n<p>The <strong>Epson HX20</strong> was the first laptop computer. It was invented in July 1980 by <strong>Yukio Yokozawa,</strong> who worked for Suwa Seikosha, a branch of the Japanese company <strong>Seiko (now Seiko Epson)</strong>, receiving a patent for the invention.&nbsp;</p>",
    "question_index": 14
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which of the following is an input device used to enter motion data in computers and other electronic devices?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Monitor</p>",
      "<style> img {max-width:100% !important} </style><p>Trackball</p>",
      "<style> img {max-width:100% !important} </style><p>Plotter</p>",
      "<style> img {max-width:100% !important} </style><p>Joystick</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option B.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>trackball</strong> is an input device used to enter motion data into computers and other electronic devices. It resembles an upside-down mouse and typically consists of a ball that can be rotated with the fingers. As the ball is moved, sensors detect its movement and translate it into on-screen cursor movement. Trackballs are often used in situations where space is limited or precise control is required, such as in graphic design or gaming.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>monitor</strong> is an output device that displays visual information generated by the computer. It doesn&#39;t enter motion data.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>plotter</strong> is an output device used to create physical drawings or graphics on paper, typically by moving a pen or other drawing instrument across the paper&#39;s surface. </span></span></p>\r\n\r\n<p><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">A <strong>joystick</strong> is an input device that&#39;s often used for controlling the movement of objects on a screen, especially in gaming. While it involves motion, it&#39;s not primarily used to enter motion data; rather, it&#39;s used for controlling direction and navigation.</span></span></p>",
    "question_index": 15
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which memory isn&rsquo;t accessed directly by the CPU, instead data is first loaded into RAM and then sent to the processor?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Volatile memory</p>",
      "<style> img {max-width:100% !important} </style><p>RAM</p>",
      "<style> img {max-width:100% !important} </style><p>Primary memory</p>",
      "<style> img {max-width:100% !important} </style><p>Secondary memory</p>"
    ],
    "correct_option_id": 3,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct answer is option D.</p>\r\n\r\n<p>Secondary memory is a type of storage in a computer system that is not directly accessed by the CPU. Instead, data stored in secondary memory (such as hard drives, solid-state drives, CDs, DVDs, etc.) is first loaded into RAM (primary memory) before it can be processed by the CPU. Secondary memory is used for long-term storage of data and programs, while primary memory (RAM) is used for temporary storage of data that the CPU is currently working with.&nbsp;</p>",
    "question_index": 16
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which of the following is the core of an operating system?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>Kernel</p>",
      "<style> img {max-width:100% !important} </style><p>Ventura</p>",
      "<style> img {max-width:100% !important} </style><p>Device driver</p>",
      "<style> img {max-width:100% !important} </style><p>Xenix</p>"
    ],
    "correct_option_id": 0,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option A.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The <strong>kernel</strong> is the core component of an operating system. It is responsible for managing the essential functions of the operating system, including hardware interaction, process management, memory management, file system handling, and more. The kernel acts as an intermediary between application software and the computer hardware.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>Ventura</strong> is not the core of an operating system. It&#39;s a document publishing software developed by Xerox.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">A <strong>device</strong> <strong>driver</strong> is software that enables communication between the operating system and hardware devices. While important, it&#39;s not the core of the operating system itself.</span></span></p>\r\n\r\n<p><strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Xenix</span></span></strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> is an operating system that was developed by Microsoft and was based on UNIX. It&#39;s not the core of an operating system but rather an operating system in its own right.</span></span></p>",
    "question_index": 17
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>What is a &lsquo;tuple&rsquo;?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>It is a related set of records in a table.</p>",
      "<style> img {max-width:100% !important} </style><p>It corresponds to a row in the table.</p>",
      "<style> img {max-width:100% !important} </style><p>It is another name for third normal form.</p>",
      "<style> img {max-width:100% !important} </style><p>It is the attribute for each relation, and the governing constraint.</p>"
    ],
    "correct_option_id": 1,
    "solution": "<style> img {max-width:100% !important} </style><p>The correct option is B.</p>\r\n\r\n<p>In the context of databases, a tuple refers to a row or record in a table. A tuple represents a single instance of data within a relation (table) in a database. Each tuple consists of a collection of attributes (columns) that hold specific values corresponding to the properties of that instance.&nbsp;</p>",
    "question_index": 18
  },
  {
    "question": "<style> img {max-width:100% !important} </style><p>Which of the following protocols is used to transfer files from one host to another over the internet?</p>",
    "options": [
      "<style> img {max-width:100% !important} </style><p>FTP</p>",
      "<style> img {max-width:100% !important} </style><p>IP</p>",
      "<style> img {max-width:100% !important} </style><p>UDP</p>",
      "<style> img {max-width:100% !important} </style><p>TCP</p>"
    ],
    "correct_option_id": 0,
    "solution": "<style> img {max-width:100% !important} </style><p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\">The correct answer is option A.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>FTP (File Transfer Protocol)</strong> is used to transfer files from one host to another over the internet. It&#39;s a standard network protocol that enables the transfer of files between a client and a server. FTP provides commands for uploading, downloading, and managing files on remote servers.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>UDP (User Datagram Protocol)</strong> is a transport layer protocol that offers low-latency communication and is often used for applications where speed is more critical than reliability. It&#39;s not typically used for file transfers due to its lack of error-checking and reliability mechanisms.</span></span></p>\r\n\r\n<p><span style=\"font-size:11pt\"><span style=\"font-family:Calibri,sans-serif\"><strong>IP (Internet Protocol)</strong> is a network layer protocol responsible for routing packets between devices on a network. While it&#39;s fundamental for internet communication, it&#39;s not primarily used for direct file transfers like FTP.</span></span></p>\r\n\r\n<p><strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">TCP (Transmission Control Protocol)</span></span></strong><span style=\"font-size:11.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> is a transport layer protocol that provides reliable, connection-oriented communication. While it&#39;s used for various types of internet communication, including web browsing, email, and more, its primary purpose is not specifically for direct file transfers like FTP.</span></span></p>",
    "question_index": 19
  }
];
            this.sections = null;
            this.curQ = 0;
            this.ans = new Array(this.qs.length).fill(null);
            this.reviewed = new Array(this.qs.length).fill(false);
            this.startT = Date.now();
            this.timeLeft = 15 * 60;
            this.timeSpent = new Array(this.qs.length).fill(0);
            this.lastQTime = this.startT;
            this.sub = false;
            this.eng = true;
            this.darkMode = false;
            this.timer = null;
            this.sectionTimer = null;
            this.currentSection = this.sections ? 0 : null;
            this.initEls();
            this.setupWelcomeScreen();
            this.validateData();
            this.setupBeforeUnload();
        }
            
            setupWelcomeScreen() {
                document.getElementById('startTestBtn').addEventListener('click', () => {
                    // Hide welcome screen
                    document.getElementById('welcomeScreen').classList.add('hidden');
                    
                    // Show main test interface
                    document.getElementById('mainTestInterface').style.display = '';
                    
                    // Initialize the test
                    setTimeout(() => {
                        this.init();
                    }, 300);
                });
            }
            
            setupBeforeUnload() {
                window.addEventListener('beforeunload', (e) => {
                    if (!this.sub) {
                        e.preventDefault();
                        e.returnValue = 'Are you sure you want to leave? Your test progress will be lost.';
                        return e.returnValue;
                    }
                });
            }
            
            validateData() {
                console.log('Validating question data...');
                this.qs.forEach((q, idx) => {
                    if (q.correct_option_id !== undefined) {
                        console.log(`Q${idx + 1}: correct_option_id = ${q.correct_option_id}, options count = ${q.options ? q.options.length : 0}`);
                        
                        if (q.options && (q.correct_option_id < 0 || q.correct_option_id >= q.options.length)) {
                            console.warn(`Q${idx + 1}: Invalid correct_option_id ${q.correct_option_id} for ${q.options.length} options`);
                        }
                    }
                });
            }
            
            initEls() {
                this.els = {
                    qInfo: document.getElementById('qInfo'),
                    progTxt: document.getElementById('progTxt'),
                    ansCnt: document.getElementById('ansCnt'),
                    timer: document.getElementById('timer'),
                    qTxt: document.getElementById('qTxt'),
                    compSec: document.getElementById('compSec'),
                    compCont: document.getElementById('compCont'),
                    opts: document.getElementById('opts'),
                    sol: document.getElementById('sol'),
                    solCont: document.getElementById('solCont'),
                    solInfo: document.getElementById('solInfo'),
                    qGrid: document.getElementById('qGrid'),
                    desktopQGrid: document.getElementById('desktopQGrid'),
                    panel: document.getElementById('panel'),
                    modalOver: document.getElementById('modalOver'),
                    scoreDisp: document.getElementById('scoreDisp'),
                    corrStat: document.getElementById('corrStat'),
                    incStat: document.getElementById('incStat'),
                    unaStat: document.getElementById('unaStat'),
                    timeStat: document.getElementById('timeStat'),
                    printBtn: document.getElementById('printBtn'),
                    desktopSidebar: document.getElementById('desktopSidebar'),
                    reviewBtn: document.getElementById('reviewBtn'),
                    themeToggle: document.getElementById('themeToggle'),
                    sectionHeader: this.sections ? document.getElementById('sectionHeader') : null,
                    sectionTitle: this.sections ? document.getElementById('sectionTitle') : null,
                    sectionTimer: this.sections ? document.getElementById('sectionTimer') : null
                };
            }
            
            init() {
                this.createGrid();
                this.startTimer();
                if (this.sections) {
                    this.startSectionTimer();
                    this.updateSectionHeader();
                }
                this.loadQ(0);
                this.setupEvents();
                this.updatePrintButton();
                this.updateThemeToggleIcon();
            }
            
            setupEvents() {
                document.getElementById('menuBtn').onclick = () => this.togglePanel();
                document.getElementById('subBtn').onclick = () => this.confirmSub();
                document.getElementById('prevBtn').onclick = () => this.nav(-1);
                document.getElementById('nextBtn').onclick = () => this.nav(1);
                document.getElementById('reviewBtn').onclick = () => this.toggleReview();
                document.getElementById('engBtn').onclick = () => this.setLang(true);
                document.getElementById('hinBtn').onclick = () => this.setLang(false);
                document.getElementById('panelClose').onclick = () => this.closePanel();
                document.getElementById('closeModal').onclick = () => this.closeModal();
                document.getElementById('revBtn').onclick = () => this.review();
                document.getElementById('printBtn').onclick = () => this.printTest();
                document.getElementById('themeToggle').onclick = () => this.toggleTheme();
            }
            
            // IMPROVED: Better handling of complex HTML content including math expressions
            extractTxt(html, isEng) {
                if (!html) return '';
                
                // Create a temporary div to parse the HTML
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = html;
                
                // Process math expressions - convert them to proper HTML structure
                const mathExps = tempDiv.querySelectorAll('div[style*="inline-block"][style*="vertical-align: middle"]');
                mathExps.forEach(mathExp => {
                    // Create a new math expression container
                    const newMathExp = document.createElement('div');
                    newMathExp.className = 'math-exp';
                    
                    // Get numerator and denominator
                    const spans = mathExp.querySelectorAll('span');
                    if (spans.length >= 3) {
                        const numerator = spans[0].cloneNode(true);
                        const line = spans[1].cloneNode(true);
                        const denominator = spans[2].cloneNode(true);
                        
                        // Clean up the numerator
                        const numDiv = document.createElement('div');
                        numDiv.className = 'math-num';
                        numDiv.innerHTML = numerator.innerHTML;
                        
                        // Create the dividing line
                        const lineDiv = document.createElement('div');
                        lineDiv.className = 'math-line';
                        
                        // Clean up the denominator
                        const denDiv = document.createElement('div');
                        denDiv.className = 'math-num';
                        denDiv.innerHTML = denominator.innerHTML;
                        
                        // Build the new math expression
                        newMathExp.appendChild(numDiv);
                        newMathExp.appendChild(lineDiv);
                        newMathExp.appendChild(denDiv);
                        
                        // Replace the original with our new structure
                        mathExp.parentNode.replaceChild(newMathExp, mathExp);
                    }
                });
                
                // Handle language selection - show/hide appropriate spans
                const langSpans = tempDiv.querySelectorAll('span.eqt, span.hqt');
                langSpans.forEach(span => {
                    if ((isEng && span.classList.contains('hqt')) || 
                        (!isEng && span.classList.contains('eqt'))) {
                        span.style.display = 'none';
                    } else {
                        span.style.display = '';
                        // Remove the class to prevent future hiding
                        span.classList.remove('eqt', 'hqt');
                    }
                });
                
                // Clean up any remaining display:none styles
                const hiddenElements = tempDiv.querySelectorAll('[style*="display:none"]');
                hiddenElements.forEach(el => {
                    if (el.style.display === 'none' && 
                        !el.classList.contains('hqt') && 
                        !el.classList.contains('eqt')) {
                        el.style.display = '';
                    }
                });
                
                // Handle tables - wrap them in a scrollable container
                const tables = tempDiv.querySelectorAll('table');
                tables.forEach(table => {
                    const container = document.createElement('div');
                    container.className = 'table-container';
                    table.parentNode.insertBefore(container, table);
                    container.appendChild(table);
                });
                
                return tempDiv.innerHTML;
            }
            
            createGrid() {
                this.els.qGrid.innerHTML = '';
                this.els.desktopQGrid.innerHTML = '';
                
                this.qs.forEach((_, i) => {
                    // Create mobile grid element
                    const mobileDiv = document.createElement('div');
                    mobileDiv.className = 'q-num';
                    mobileDiv.textContent = i + 1;
                    mobileDiv.onclick = () => this.goToQ(i);
                    this.els.qGrid.appendChild(mobileDiv);
                    
                    // Create desktop grid element
                    const desktopDiv = document.createElement('div');
                    desktopDiv.className = 'q-num';
                    desktopDiv.textContent = i + 1;
                    desktopDiv.onclick = () => this.goToQ(i);
                    this.els.desktopQGrid.appendChild(desktopDiv);
                });
            }
            
            loadQ(idx) {
                // Update time spent on previous question
                if (this.curQ !== idx) {
                    const now = Date.now();
                    this.timeSpent[this.curQ] += (now - this.lastQTime) / 1000;
                    this.lastQTime = now;
                }
                
                this.curQ = idx;
                const q = this.qs[idx];
                
                // Check if question is in current section (if sections exist)
                if (this.sections) {
                    const inCurrentSection = this.isInCurrentSection(idx);
                    if (!inCurrentSection) {
                        // Find the section this question belongs to
                        const sectionIdx = this.findSectionForQuestion(idx);
                        if (sectionIdx !== null && !this.sections[sectionIdx].submitted) {
                            this.currentSection = sectionIdx;
                            this.startSectionTimer();
                            this.updateSectionHeader();
                        }
                    }
                }
                
                this.els.qInfo.textContent = `Q${idx + 1}/${this.qs.length}`;
                this.els.progTxt.textContent = `${idx + 1} of ${this.qs.length}`;
                this.updateAnsCnt();
                this.updateNav();
                this.updateGrid();
                this.updateReviewButton();
                
                if (q.comp) {
                    this.els.compSec.style.display = 'block';
                    this.els.compCont.innerHTML = this.extractTxt(q.comp, this.eng);
                } else {
                    this.els.compSec.style.display = 'none';
                }
                
                this.els.qTxt.innerHTML = this.extractTxt(q.question, this.eng);
                this.loadOpts(q, idx);
                
                if (this.sub && q.solution) {
                    // Show time spent on question in solution
                    const timeSpent = Math.round(this.timeSpent[idx]);
                    const minutes = Math.floor(timeSpent / 60);
                    const seconds = timeSpent % 60;
                    const timeStr = minutes > 0 
                        ? `${minutes}m ${seconds}s` 
                        : `${seconds}s`;
                    
                    this.els.solInfo.innerHTML = `
                        <span><i class="fas fa-clock"></i> Time spent: ${timeStr}</span>
                        <span><i class="fas fa-check-circle"></i> Correct answer: ${String.fromCharCode(65 + q.correct_option_id)}</span>
                    `;
                    
                    this.els.solCont.innerHTML = this.extractTxt(q.solution, this.eng);
                    this.els.sol.classList.add('show');
                } else {
                    this.els.sol.classList.remove('show');
                }
            }
            
            loadOpts(q, qIdx) {
                this.els.opts.innerHTML = '';
                const userAnswer = this.ans[qIdx];
                const correctAnswer = q.correct_option_id;
                
                console.log(`Loading Q${qIdx + 1} options:`, {
                    userAnswer: userAnswer,
                    correctAnswer: correctAnswer,
                    submitted: this.sub,
                    optionsCount: q.options ? q.options.length : 0
                });
                
                if (!q.options || !Array.isArray(q.options)) {
                    console.error(`Q${qIdx + 1}: No valid options array`);
                    return;
                }
                
                q.options.forEach((opt, i) => {
                    const div = document.createElement('div');
                    let cls = 'opt';
                    
                    if (this.sub) {
                        cls += ' submitted';
                    }
                    
                    if (userAnswer === i) {
                        cls += ' sel';
                        console.log(`Q${qIdx + 1}: User selected option ${i}`);
                    }
                    
                    if (this.sub && correctAnswer !== undefined && correctAnswer !== null) {
                        if (i === correctAnswer) {
                            cls += ' correct';
                            console.log(`Q${qIdx + 1}: Option ${i} marked as correct (is correct answer)`);
                        } else if (userAnswer === i && userAnswer !== correctAnswer) {
                            cls += ' wrong';
                            console.log(`Q${qIdx + 1}: Option ${i} marked as wrong (user selected but incorrect)`);
                        }
                    }
                    
                    div.className = cls;
                    div.innerHTML = `
                        <div class="opt-radio"></div>
                        <div class="opt-txt">${this.extractTxt(opt, this.eng)}</div>
                    `;
                    
                    if (!this.sub) {
                        div.onclick = () => this.selOpt(i, qIdx);
                    }
                    
                    this.els.opts.appendChild(div);
                });
            }
            
            selOpt(optIdx, qIdx) {
                if (this.sub) return;
                this.ans[qIdx] = this.ans[qIdx] === optIdx ? null : optIdx;
                console.log(`Q${qIdx + 1}: Selected option ${optIdx}, answer array:`, this.ans[qIdx]);
                this.loadOpts(this.qs[qIdx], qIdx);
                this.updateAnsCnt();
                this.updateGrid();
            }
            
            toggleReview() {
                if (this.sub) return;
                this.reviewed[this.curQ] = !this.reviewed[this.curQ];
                this.updateGrid();
                this.updateReviewButton();
            }
            
            updateReviewButton() {
                const btn = this.els.reviewBtn;
                if (this.reviewed[this.curQ]) {
                    btn.classList.add('active');
                    btn.innerHTML = '<i class="fas fa-flag"></i>';
                } else {
                    btn.classList.remove('active');
                    btn.innerHTML = '<i class="fas fa-flag"></i>';
                }
            }
            
           nav(dir) {
            const newIdx = this.curQ + dir;
            
            // If test is submitted, allow free navigation for review
            if (this.sub) {
                if (newIdx >= 0 && newIdx < this.qs.length) {
                    this.loadQ(newIdx);
                }
                return;
            }
            
            // During test, enforce section boundaries
            if (this.sections) {
                const currentSection = this.sections[this.currentSection];
                if (newIdx < currentSection.start || newIdx > currentSection.end) {
                    return; // Don't allow navigation outside current section
                }
            }
            
            if (newIdx >= 0 && newIdx < this.qs.length) {
                this.loadQ(newIdx);
            }
        }
        
        goToQ(idx) {
            // Always allow navigation when reviewing after submission
            if (this.sub) {
                this.loadQ(idx);
                this.closePanel();
                return;
            }
            
            // During test, only allow navigation within current section
            if (this.sections) {
                const currentSection = this.sections[this.currentSection];
                if (idx < currentSection.start || idx > currentSection.end) {
                    return; // Block navigation outside current section
                }
            }
            
            this.loadQ(idx);
            this.closePanel();
        }
        
        updateGrid() {
            const nums = this.els.qGrid.querySelectorAll('.q-num');
            const desktopNums = this.els.desktopQGrid.querySelectorAll('.q-num');
            
            const updateNum = (el, i) => {
                el.className = 'q-num';
                
                // Reset all special classes
                el.classList.remove('cur', 'ans', 'wrong', 'review', 'unattempted', 'disabled');
                
                if (i === this.curQ) {
                    el.classList.add('cur');
                } else if (this.sub) {
                    // After submission - prioritize correct/wrong over review status
                    if (this.ans[i] !== null && this.qs[i].correct_option_id !== undefined) {
                        if (this.ans[i] === this.qs[i].correct_option_id) {
                            el.classList.add('ans');
                        } else {
                            el.classList.add('wrong');
                        }
                    } else if (this.ans[i] === null) {
                        el.classList.add('unattempted');
                    }
                } else {
                    // Before submission
                    if (this.reviewed[i]) {
                        el.classList.add('review');
                    } else if (this.ans[i] !== null) {
                        el.classList.add('ans');
                    }
                    
                    // Disable questions from other sections (only if sections exist)
                    if (this.sections) {
                        const currentSection = this.sections[this.currentSection];
                        if (i < currentSection.start || i > currentSection.end) {
                            el.classList.add('disabled');
                        }
                    }
                }
            };
            
            nums.forEach(updateNum);
            desktopNums.forEach(updateNum);
        }
        
        updateNav() {
            // Basic navigation limits
            document.getElementById('prevBtn').disabled = this.curQ === 0;
            document.getElementById('nextBtn').disabled = this.curQ === this.qs.length - 1;
            document.getElementById('reviewBtn').style.display = this.sub ? 'none' : 'inline-flex';
            
            // Additional navigation restrictions for sections during test
            if (this.sections && !this.sub) {
                const currentSection = this.sections[this.currentSection];
                document.getElementById('prevBtn').disabled = document.getElementById('prevBtn').disabled || 
                    (this.curQ === currentSection.start);
                document.getElementById('nextBtn').disabled = document.getElementById('nextBtn').disabled || 
                    (this.curQ === currentSection.end);
            }
        }
            
            updateAnsCnt() {
                const cnt = this.ans.filter(a => a !== null).length;
                this.els.ansCnt.textContent = cnt;
            }
            
            updatePrintButton() {
                this.els.printBtn.style.display = this.sub ? 'flex' : 'none';
            }
            
            updateThemeToggleIcon() {
                const icon = this.darkMode ? 'fa-sun' : 'fa-moon';
                this.els.themeToggle.innerHTML = `<i class="fas ${icon}"></i>`;
            }
            
            updateSectionHeader() {
                if (!this.sections || !this.els.sectionHeader) return;
                
                const section = this.sections[this.currentSection];
                this.els.sectionTitle.textContent = section.name;
                this.els.sectionTimer.textContent = this.formatTime(section.time_left);
                
                // Show the section header if we have sections
                this.els.sectionHeader.style.display = 'flex';
            }
            
            setLang(eng) {
                this.eng = eng;
                document.getElementById('engBtn').classList.toggle('active', eng);
                document.getElementById('hinBtn').classList.toggle('active', !eng);
                this.loadQ(this.curQ);
            }
            
            toggleTheme() {
                this.darkMode = !this.darkMode;
                document.body.classList.toggle('dark-mode', this.darkMode);
                this.updateThemeToggleIcon();
                this.loadQ(this.curQ); // Refresh to apply dark mode styles
            }
            
            startTimer() {
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    if (this.timeLeft <= 0) {
                        clearInterval(this.timer);
                        this.subTest();
                        return;
                    }
                    const mins = Math.floor(this.timeLeft / 60);
                    const secs = this.timeLeft % 60;
                    this.els.timer.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
                }, 1000);
            }
            
            startSectionTimer() {
                if (!this.sections) return;
                
                // Clear any existing section timer
                if (this.sectionTimer) clearInterval(this.sectionTimer);
                
                const section = this.sections[this.currentSection];
                section.time_left = section.timer; // Reset to initial time
                
                this.sectionTimer = setInterval(() => {
                    section.time_left--;
                    this.els.sectionTimer.textContent = this.formatTime(section.time_left);
                    
                    if (section.time_left <= 0) {
                        clearInterval(this.sectionTimer);
                        this.submitCurrentSection();
                    }
                }, 1000);
            }
            
            formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            }
            
            stopTimers() {
                if (this.timer) clearInterval(this.timer);
                if (this.sectionTimer) clearInterval(this.sectionTimer);
            }
            
            togglePanel() {
                this.els.panel.classList.toggle('open');
            }
            
            closePanel() {
                this.els.panel.classList.remove('open');
            }
            
            confirmSub() {
                if (this.sections) {
                    const section = this.sections[this.currentSection];
                    const unanswered = this.ans.slice(section.start, section.end + 1)
                        .filter(a => a === null).length;
                    const reviewed = this.reviewed.slice(section.start, section.end + 1)
                        .filter(r => r).length;
                    
                    let msg = '';
                    
                    if (unanswered > 0 && reviewed > 0) {
                        msg = `You have ${unanswered} unanswered questions and ${reviewed} marked for review in this section. Submit anyway?`;
                    } else if (unanswered > 0) {
                        msg = `You have ${unanswered} unanswered questions in this section. Submit anyway?`;
                    } else if (reviewed > 0) {
                        msg = `You have ${reviewed} questions marked for review in this section. Submit anyway?`;
                    } else {
                        msg = 'Submit this section?';
                    }
                    
                    if (confirm(msg)) this.submitCurrentSection();
                } else {
                    const unanswered = this.ans.filter(a => a === null).length;
                    const reviewed = this.reviewed.filter(r => r).length;
                    let msg = '';
                    
                    if (unanswered > 0 && reviewed > 0) {
                        msg = `You have ${unanswered} unanswered questions and ${reviewed} marked for review. Submit anyway?`;
                    } else if (unanswered > 0) {
                        msg = `You have ${unanswered} unanswered questions. Submit anyway?`;
                    } else if (reviewed > 0) {
                        msg = `You have ${reviewed} questions marked for review. Submit anyway?`;
                    } else {
                        msg = 'Submit test?';
                    }
                    
                    if (confirm(msg)) this.subTest();
                }
            }
            
            submitCurrentSection() {
                if (!this.sections) return;
                
                const section = this.sections[this.currentSection];
                section.submitted = true;
                clearInterval(this.sectionTimer);
                
                // Move to the next section if available
                const nextSectionIdx = this.currentSection + 1;
                if (nextSectionIdx < this.sections.length) {
                    this.currentSection = nextSectionIdx;
                    this.startSectionTimer();
                    this.updateSectionHeader();
                    this.loadQ(this.sections[nextSectionIdx].start);
                } else {
                    // All sections completed
                    this.subTest();
                }
                
                this.updateGrid();
            }
            
            subTest() {
                if (this.sub) return;
                
                // Record time spent on current question
                const now = Date.now();
                this.timeSpent[this.curQ] += (now - this.lastQTime) / 1000;
                
                console.log('Submitting test. Final answers:', this.ans);
                this.sub = true;
                this.stopTimers();
                document.getElementById('subBtn').style.display = 'none';
                document.getElementById('reviewBtn').style.display = 'none';
                const results = this.calcResults();
                this.showResults(results);
                this.loadQ(this.curQ);
                this.updateGrid();
                this.updatePrintButton();
                
                // Hide section header if it exists
                if (this.els.sectionHeader) {
                    this.els.sectionHeader.style.display = 'none';
                }
            }
            
            calcResults() {
                const timeTaken = Math.round((Date.now() - this.startT) / 60000);
                let correct = 0, incorrect = 0, unattempted = 0, score = 0;
                
                console.log('Calculating results...');
                this.qs.forEach((q, i) => {
                    const userAns = this.ans[i];
                    const correctAns = q.correct_option_id;
                    
                    console.log(`Q${i + 1}: user=${userAns}, correct=${correctAns}`);
                    
                    if (userAns === null || userAns === undefined) {
                        unattempted++;
                    } else if (correctAns !== undefined && correctAns !== null && userAns === correctAns) {
                        correct++;
                        score += 2;
                        console.log(`Q${i + 1}: CORRECT (+2 marks)`);
                    } else {
                        incorrect++;
                        score -= 0.50;
                        console.log(`Q${i + 1}: INCORRECT (-0.50 marks)`);
                    }
                });
                
                const results = { 
                    score: Math.max(0, score), 
                    correct, 
                    incorrect, 
                    unattempted, 
                    timeTaken,
                    timePerQ: this.timeSpent.map(t => Math.round(t))
                };
                console.log('Final results:', results);
                return results;
            }
            
            showResults(results) {
                this.els.scoreDisp.textContent = `${results.score}/40`;
                this.els.corrStat.textContent = results.correct;
                this.els.incStat.textContent = results.incorrect;
                this.els.unaStat.textContent = results.unattempted;
                this.els.timeStat.textContent = results.timeTaken;
                this.els.modalOver.classList.add('show');
            }
            
            closeModal() {
                this.els.modalOver.classList.remove('show');
            }
            
            review() {
                this.closeModal();
                this.loadQ(0);
            }
            
            isNavigationAllowed(idx) {
            // Always allow navigation after submission
            if (this.sub) return true;
            
            // During test, only allow within current section
            if (this.sections) {
                const currentSection = this.sections[this.currentSection];
                return idx >= currentSection.start && idx <= currentSection.end;
            }
            
            // If no sections, allow all navigation
            return true;
            }
            
            printTest() {
                const printWindow = window.open('', '_blank');
                const testTitle = document.title;
                const questionsHtml = this.qs.map((q, i) => {
                    const userAns = this.ans[i];
                    const correctAns = q.correct_option_id;
                    const isCorrect = userAns !== null && correctAns !== undefined && userAns === correctAns;
                    const timeSpent = Math.round(this.timeSpent[i]);
                    const wasReviewed = this.reviewed[i];
                    const sectionName = this.sections ? this.getSectionNameForQuestion(i) : '';
                    
                    return `
                        <div style="page-break-inside:avoid;margin-bottom:30px;border-bottom:1px solid #eee;padding-bottom:20px">
                            <h3 style="color:#4F46E5">Question ${i + 1} ${wasReviewed ? '<span style="color:#F59E0B">(Marked for Review)</span>' : ''}</h3>
                            ${sectionName ? `<div style="font-size:14px;color:#6B7280;margin-bottom:8px">Section: ${sectionName}</div>` : ''}
                            ${q.comp ? `<div>${q.comp}</div>` : ''}
                            <div>${q.question}</div>
                            <div style="margin-top:15px">
                                ${q.options.map((opt, j) => `
                                    <div style="margin:5px 0;padding:5px;border-left:3px solid ${ 
                                        j === correctAns ? '#10B981' : 
                                        j === userAns ? '#EF4444' : '#E5E7EB' 
                                    }">
                                        ${opt}
                                    </div>
                                `).join('')}
                            </div>
                            <div style="margin-top:15px;font-size:14px;color:#666">
                                <strong>Your answer:</strong> ${userAns !== null ? String.fromCharCode(65 + userAns) : 'Not attempted'}
                                ${userAns !== null && correctAns !== undefined ? 
                                    `(<span style="color:${isCorrect ? '#10B981' : '#EF4444'}">${isCorrect ? 'Correct' : 'Incorrect'}</span>)` : ''}
                                <br>
                                <strong>Time spent:</strong> ${timeSpent} seconds
                            </div>
                            ${q.solution ? `
                                <div style="margin-top:15px;background:#f0fdf4;padding:15px;border-radius:8px">
                                    <h4 style="color:#10B981;margin-top:0">Solution</h4>
                                    ${q.solution}
                                </div>
                            ` : ''}
                        </div>
                    `;
                }).join('');
                
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>${testTitle} - Results</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; }
                            h2 { color: #4F46E5; border-bottom: 1px solid #E5E7EB; padding-bottom: 10px; }
                            .math-exp { display: inline-block; vertical-align: middle; position: relative; margin: 0 2px; }
                            .math-num { text-align: center; display: block; padding: 0; }
                            .math-line { display: block; border-top: 1px solid; padding: 0; text-align: center; }
                            .table-container { width: 100%; overflow-x: auto; margin: 12px 0; }
                            table { width: 100%; border-collapse: collapse; margin: 8px 0; }
                            table, th, td { border: 1px solid #E5E7EB; }
                            th, td { padding: 8px 12px; text-align: left; }
                            @media print {
                                body { padding: 0; }
                                .page-break { page-break-after: always; }
                            }
                        </style>
                    </head>
                    <body>
                        <h2>Mocks Wallah - Analysis</h2>
                        <div style="margin-bottom:30px">
                            <div><strong>Score:</strong> ${this.els.scoreDisp.textContent}</div>
                            <div><strong>Correct:</strong> ${this.els.corrStat.textContent}</div>
                            <div><strong>Incorrect:</strong> ${this.els.incStat.textContent}</div>
                            <div><strong>Unattempted:</strong> ${this.els.unaStat.textContent}</div>
                            <div><strong>Time taken:</strong> ${this.els.timeStat.textContent} minutes</div>
                        </div>
                        ${questionsHtml}
                        <script>
                            setTimeout(() => { window.print(); }, 500);
                        <\/script>
                    </body>
                    </html>
                `);
                printWindow.document.close();
            }
            
            // Section-related helper methods
            isInCurrentSection(qIdx) {
                if (!this.sections) return true;
                const section = this.sections[this.currentSection];
                return qIdx >= section.start && qIdx <= section.end;
            }
            
            findSectionForQuestion(qIdx) {
                if (!this.sections) return null;
                for (let i = 0; i < this.sections.length; i++) {
                    const section = this.sections[i];
                    if (qIdx >= section.start && qIdx <= section.end) {
                        return i;
                    }
                }
                return null;
            }
            
            getSectionNameForQuestion(qIdx) {
                if (!this.sections) return '';
                const sectionIdx = this.findSectionForQuestion(qIdx);
                return sectionIdx !== null ? this.sections[sectionIdx].name : '';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => new TestApp());
    </script>
</body>
</html>